# 开发文档：有机分子生成器

## 1. 概述
本程序用于根据用户输入的碳（C）、氢（H）、氧（O）原子数量，推测并生成可能的有机分子结构，包括烷烃、烯烃、炔烃、芳香化合物、醇、酚、醚、醛、酮、羧酸、酯及环状化合物。

## 2. 依赖项
本程序依赖于以下 Python 库：
- `rdkit`（用于处理化学分子结构）
- `itertools`（用于生成组合）
- `collections`（用于默认字典）
- `re`（用于正则表达式解析）

我没有把所有的import都放到最前面 而是用什么引入什么（
## 3. 核心功能

### 3.1 计算不饱和度
- **函数：** `calculate_unsaturation(c, h, o=0)`
- **描述：** 计算分子的双键等效不饱和度 `(2C + 2 - H) / 2`。
- **返回值：** 若为有效分子式，则返回整数不饱和度，否则返回 `-1`。

### 3.2 生成碳骨架
- **函数：** `generate_carbon_skeletons(c, u)`
- **描述：** 生成具有 `c` 个碳原子和 `u` 级不饱和度的碳骨架。
- **支持的骨架类型：**
  - 直链和支链烷烃
  - 具有不同双键/三键的碳链
  - 单环和芳香化合物

### 3.3 添加官能团
- **函数：** `add_functional_group(skel_smi, group_type, count)`
- **描述：** 在骨架上添加指定数量的官能团，如羟基（-OH）、羰基（=O）、羧基（-COOH）。

### 3.4 生成不同类型的化合物
- **功能：** 生成不同类型的含氧有机化合物，如：
  - `generate_alcohols(c, h, o)` 生成醇类（-OH）。
  - `generate_aldehydes(c, h, o)` 生成醛类（-CHO）。
  - `generate_ketones(c, h, o)` 生成酮类（C=O）。
  - `generate_carboxylic_acids(c, h, o)` 生成羧酸（-COOH）。
  - `generate_ethers(c, h, o)` 生成醚类（R-O-R'）。
  - `generate_esters(c, h, o)` 生成酯类（R-COO-R'）。
  - `generate_phenols(c, h, o)` 生成酚类（芳香环上的 -OH）。

### 3.5 过滤与分类
- **函数：** `filter_by_atom_counts(smiles_set, c, h, o)`
- **描述：** 过滤出符合指定原子计数的 SMILES。
- **函数：** `classify_smiles(smiles_set)`
- **描述：** 根据官能团将化合物分类，如烷烃、烯烃、炔烃、芳香化合物等。

### 3.6 生成所有可能的化合物
- **函数：** `generate_compounds(c, h, o)`
- **描述：** 综合前述功能，生成所有符合指定原子数的有机分子。

## 4. 使用方法
1. 运行 `main()` 函数。
2. 输入所需的碳、氢、氧原子数量。
3. 程序将输出可能的有机分子结构（SMILES 表示）。

## 5. 可能的改进方向
- 增强生成逻辑，完善烷烃异构体的生成（目前生成不完整 仅支持部分支链）这个实在太难了 在下技术实在有限：（
- 改善对复杂环状化合物的生成逻辑
- 采用机器学习方法预测更稳定的化合物结构（（（
- 我为什么不直接做个接口接入deepseek（（（

因为这样做就没意思啦：）
